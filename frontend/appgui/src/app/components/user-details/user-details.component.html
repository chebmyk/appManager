<div>
  <div *ngIf="!(this.newUser)">
    <button *ngIf="canReset"  mat-raised-button type="button" (click)="goToResetPassword()">Reset Password</button>
  </div>
  <form [formGroup]="userForm" (ngSubmit)="save()">
    <div>
      <mat-form-field>
        <input matInput placeholder="id" formControlName="id" readonly>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <input matInput placeholder="Name" formControlName="name">
        <mat-error>
          <field-validation [control]="userForm.controls.name"></field-validation>
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <input matInput placeholder="Email" formControlName="email" (click)="emailHelp()">
        <mat-error>
          <field-validation [control]="userForm.controls.email"></field-validation>
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="this.newUser">
      <app-passwords [passForm]="userForm"></app-passwords>
    </div>
    <div>
      <mat-form-field>
        <mat-select placeholder="Role" formControlName="role">
          <mat-option *ngFor="let role of roles" [value]="role.value">{{role.value}}</mat-option>
        </mat-select>
        <mat-error>
          <field-validation [control]="userForm.controls.role"></field-validation>
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <button mat-raised-button type="button" [routerLink]="['..']">Back</button>
      <button *ngIf="canUpdate || canCreate" mat-raised-button type="submit" [disabled]="userForm.untouched">Save</button>
    </div>
  </form>
</div>
